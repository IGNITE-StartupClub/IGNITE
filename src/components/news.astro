---
import { Card } from 'accessible-astro-components'
import { getCollection } from 'astro:content'
import type { CollectionEntry } from 'astro:content'
import ContentMedia from './ContentMedia.astro'
import { Icon } from 'astro-icon/components'

// Fetching collection for 'projects'
const news = await getCollection('projects')  // Fetch projects from your content directory
---

<section class="my-12">
  <div class="space-content container">
    <h1>Neuigkeiten</h1>
    <p class="text-2xl">
      Erfahre mehr Ã¼ber unsere Neuigkeiten und bleibe auf dem Laufenden.
    </p>
  </div>
</section>

<section class="my-12">
  <div class="container">
      {
        news && news.length > 0 ? (
        <ContentMedia imgSrc={news[0].data.image || '/default-image.jpg'} cta="Mehr lesen!" cta_link="/news">
            <h2>{news[0].data.title || 'No title available'}</h2>
            <p>{news[0].data.description || 'No description available'}</p>
            <p>{'Author: ' + (news[0].data.author || 'Unknown')}</p>
        </ContentMedia>
        ) : (
          <p>No news available.</p>
        )
      }
  </div>
</section>

<style lang="scss">
  ul {
    display: flex;
    grid-template-columns: 1fr;
    grid-gap: 4rem;

    @media (min-width: 550px) {
      grid-template-columns: repeat(2, 1fr);
      grid-gap: 2rem;
    }

    @media (min-width: 950px) {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>